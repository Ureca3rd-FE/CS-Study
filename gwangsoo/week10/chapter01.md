# HTTP & HTTPS

## HTTP란?

- **HyperText Transfer Protocol**
- 웹에서 **클라이언트 ↔ 서버**가 텍스트 기반으로 데이터를 주고받는 통신 규약
- 서버는 요청 간의 상태를 기억하지 않는 **무상태** 프로토콜을 사용함
- **평문 전송**이므로 중간에서 패킷을 가로채면 내용이 그대로 노출됨 → **보안 취약**

## HTTPS란?

- **HTTP + SSL/TLS**가 결합된 **보안 프로토콜**
- 데이터를 **암호화**하여 전송함
- 초기에 **공개키 기반 암호화** 를 사용해 안전하게 대칭키를 공유하고 이후 통신은 **대칭키 암호화**로 진행
- 브라우저가 신뢰하는 CA(Certificate Authority)에서 발급한 인증서 기반으로 작동

### HTTPS 통신 흐름

1. **서버는 공개키, 개인키 생성**
2. **CA에 공개키를 제출** → CA는 서버 정보를 포함한 **인증서**를 생성 후 CA의 **개인키로 서명**해 서버에 전달
3. **클라이언트가 HTTPS 요청 시 서버는 인증서 전달**
4. **브라우저는 CA의 공개키로 인증서 서명 검증** → 서버의 **공개키 획득**
5. 클라이언트는 HandShaking 과정에서 주고 받은 난수 기반으로 **대칭키** 생성 후 서버의 공개키로 암호화하여 전송
6. 서버는 **개인키로 복호화**하여 동일한 대칭키 확보
7. 이후 모든 통신은 **대칭키 기반 암호화**로 처리 → 빠르고 안전한 통신 가능

### Let's Encrypt

- 전 세계적으로 가장 널리 사용되는 **무료 CA(인증 기관)**
- 자동화된 인증서 발급, 갱신 시스템(**ACME 프로토콜**)을 제공해 개발자가 직접 인증서를 구매하거나 갱신할 필요가 없음
- 대부분의 웹 서버(Nginx, Apache)와 클라우드 환경에서 쉽게 연동되며  
  **"HTTPS 기본 적용"을 표준으로 만든 핵심 서비스**
- **3개월(90일) 단위로 갱신**해야 하므로 자동 갱신 설정이 필수

#### ACME 프로토콜이란?

- **Automatic Certificate Management Environment**의 약자
- 서버가 사람의 개입 없이 **인증서를 자동으로 발급, 갱신**할 수 있도록 만든 프로토콜
- 자세한 내용 - [What is the ACME Protocol](https://brunch.co.kr/@growthminder/147)

### 주의 사항

- 신뢰받지 않은 CA(또는 자체 서명 인증서) 사용 시  
  → 브라우저가 **"주의 요함 / 안전하지 않음"** 경고 표시
- HTTPS가 완벽한 보안을 보장하는 것은 아니지만 **최소한의 신뢰 체계를 갖춘 안전한 방식**
