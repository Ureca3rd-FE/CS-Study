# IPC (Inter-Process Communication)

프로세스는 독립적으로 실행되어 서로의 메모리에 직접 접근할 수 없다.

하지만 여러 프로세스가 데이터를 주고받거나 협력해야 하는 상황이 있으며, 이때 사용하는 것이 IPC(Inter-Process Communication, 프로세스 간 통신)이다.

## 익명 PIPE

### 개념

- 하나의 파이프는 두 프로세스 간 데이터를 전달하는 통로
- 한쪽은 **읽기 전용**, 다른 한쪽은 **쓰기 전용** 으로 동작
- **단방향 통신(반이중)** 만 가능
- 양방향 통신을 위해서는 **파이프를 2개** 만들어야 함

### 장점

- 구현이 간단
- 부모-자식 관계처럼 통신할 프로세스가 명확할 때 효율적

### 단점

- 전이중 통신을 위해 2개를 만들어야 하므로 구현이 복잡
- **부모-자식 관계와 같은 한정된 관계**에서만 사용 가능

## Named PIPE (FIFO)

### 개념

- 익명 파이프의 확장된 형태로, **파일 이름(경로)을 통해 식별**
- **서로 모르는 프로세스 간 통신**이 가능
- 여전히 **반이중 통신**만 지원하며, 전이중 통신을 위해서는 2개 필요

### 장점

- 부모-자식 관계가 아닌 독립 프로세스 간에도 통신 가능
- 파일 시스템을 통해 **지속적인 통신 채널**로 접근할 수 있음

### 단점

- 동시에 읽기/쓰기가 불가능
- 파일 경로 관리와 권한 설정이 필요

## Message Queue

### 개념

- 기본 입출력 방식은 **Named Pipe(FIFO)** 와 유사
- 하지만 파이프처럼 **데이터의 흐름(Stream)** 이 아닌, **메모리 공간을 기반으로 작동**
- 메시지를 **식별 번호** 와 함께 큐에 저장하며 여러 프로세스가 동시에 데이터를 쉽게 다룰 수 있음
- 송신 프로세스는 메시지를 큐에 넣고, 수신 프로세스는 해당 메시지를 읽어감

### 장점

- 여러 프로세스가 동시에 접근 가능
- 메시지를 구분할 수 있어 **비동기 통신**이 가능
- 송신자와 수신자가 동시에 실행되지 않아도 데이터를 전달할 수 있음

### 단점

- 커널 공간을 사용하므로 크기에 제한이 있음
- 메시지 관리 및 동기화 비용이 발생

## 공유 메모리

### 개념

- 파이프나 메시지 큐가 “**통신을 위한 설비**”라면 공유 메모리는 “**데이터 자체를 공유**”하도록 지원하는 설비
- 프로세스가 커널에 **공유 메모리 할당 요청**을 하면 커널은 해당 프로세스에 메모리 공간을 생성해주고 다른 프로세스들도 동일한 메모리 영역에 접근할 수 있도록 허용
- 모든 프로세스가 같은 메모리 공간을 참조하므로 매우 빠른 속도로 데이터를 주고받을 수 있음

### 장점

- 데이터 복사 과정이 없어 **가장 빠른 IPC 방식**
- 대용량 데이터 공유에 적합

### 단점

- 동시 접근 시 데이터 충돌 가능성이 있어 **동기화(세마포어 등)** 가 필요
- 구현 난이도가 높고, 메모리 관리를 신중히 해야 함

## 메모리 맵

### 개념

- **공유 메모리와 유사하게 메모리를 공유**하는 방식
- **파일을 메모리에 매핑** 하여 여러 프로세스가 같은 파일 데이터를 공유
- **공유 매개체가 “파일 + 메모리”** 형태로 결합
- 주로 **대용량 파일 데이터를 여러 프로세스가 동시에 접근해야 할 때** 사용

### 장점

- 파일 입출력 대신 메모리를 통해 접근하므로 **입출력 성능이 빠름**
- **대용량 데이터 공유**에 효율적
- 파일을 기반으로 하므로 **프로세스 간 독립성 유지**가 가능

### 단점

- 파일 I/O와 메모리 동기화 관리가 필요
- OS마다 구현 방식이 다소 다름
- 메모리 부족 시 스와핑으로 인한 성능 저하 가능성이 있음

## 소켓

### 개념

- **네트워크 소켓 통신**을 통해 데이터를 주고받는 방식
- **서버-클라이언트 구조**를 가지며, **원격 프로세스 간 통신(네트워크 기반 IPC)** 에 사용
- 로컬에서도 사용 가능하지만, 주로 **분산 환경에서 프로세스 간 데이터 교환**에 활용

### 동작 구조

- **서버 측:** `bind → listen → accept`
- **클라이언트 측:** `connect`
- 연결이 이루어진 후에는 **양방향 통신**이 가능

### 장점

- **원격 프로세스 간 통신 가능** (네트워크 기반)
- **플랫폼 간 호환성**이 높음
- TCP, UDP 등 다양한 프로토콜 사용 가능

### 단점

- 다른 IPC 방식보다 **속도가 느림** (네트워크 지연 존재)
- 프로토콜 설정, 연결 관리 등 구현이 복잡
