# 대칭키 & 공개키

## 대칭키(Symmetric Key)

- **암호화와 복호화에 동일한 키를 사용하는 방식**
- 처리 속도가 매우 빠르고 효율적
- 하지만 **키를 서로 전달하는 과정에서 유출 위험**이 크다는 단점이 있음 → 키 분배 문제

## 공개키(Public Key) / 비대칭키(Asymmetric Key)

- **암호화 키와 복호화 키가 서로 다른 방식**
- 공개키(누구나 볼 수 있음) / 비밀키(본인만 보유)
- 대칭키의 **키 분배 문제를 해결**하기 위해 고안됨 → 공개키는 자유롭게 배포해도 되고 실제 복호화는 비밀키로만 가능
- **HTTPS**, **SSH**, **전자 서명**, **JWT**, **이메일 보안**, **VPN**, **블록체인**에서 사용됨

## 공개키 암호화 방식 흐름

1. A는 공개되어 있는 **B의 공개키**로 메시지를 암호화하고 전송
2. B는 자신의 **비밀키**로 암호문을 복호화
3. B는 **A의 공개키**로 응답을 암호화
4. A는 자신의 **비밀키**로 응답을 복호화

**Confidentiality(기밀성)** 은 확보되지만 **Integrity(무결성), Authenticity(인증)** 은 확보되지 않음

이를 위해 **MAC(Message Authentication Code)** 또는 **디지털 서명(Digital Signature)** 사용

- MAC은 공개키 방식이 아닌 **대칭키 방식**임
- 공개키 암호화는 대칭키보다 **계산량이 많고 느림**

## 하이브리드 암호 방식 (대칭키 + 공개키)

대칭키와 공개키의 장점만 결합한 방식으로 **SSL/TLS의 기초**가 됨.

### 동작 방식

1. A가 B의 **공개키**로 “통신에서 사용할 대칭키”를 암호화해 전송
2. B는 자신의 **비밀키**로 이를 복호화해 대칭키를 얻음
3. 이후 B는 해당 **대칭키로 메시지를 암호화**해 A에게 전송
4. A는 같은 **대칭키로 복호화**
5. 이후 모든 통신은 **대칭키 기반으로 빠르게 암호화/복호화**

**대칭키를 주고받을 때만 공개키를 사용**하고 실제 데이터 전송은 속도 빠른 **대칭키 방식을 사용**한다.

대칭키의 속도 + 공개키의 안전한 키 교환을 할 수 있기 때문에 **현대 보안 통신의 표준 구조**가 되었다.
