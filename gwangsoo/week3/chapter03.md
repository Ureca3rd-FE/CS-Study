# 해시(Hash)

해시는 데이터를 효율적으로 관리하기 위해  
**임의의 길이 데이터 → 고정된 길이 데이터**로 매핑하는 기법이다.  
이를 위해 **해시 함수**(Hash Function)가 사용된다.

```plaintext
Lee  → 해싱 함수 → 5
Kim  → 해싱 함수 → 3
Park → 해싱 함수 → 2
Chun → 해싱 함수 → 5  // Lee와 충돌(Collision)
```

결국 데이터가 많아지면 다른 입력값이 동일한 해시 값으로 매핑되는  
**충돌(Collision)** 현상이 발생한다.

## 해시 테이블을 쓰는 이유

- **적은 자원으로 많은 데이터 관리 가능**
- 무한한 데이터를 유한한 크기의 해시값으로 매핑 → 작은 메모리로도 효율적인 관리 가능
- **빠른 검색 성능**: 키를 알면 바로 인덱스로 접근 가능 → 평균 시간 복잡도 **O(1)**

## 충돌 문제 해결

크기가 5인 해시 테이블에 "12, 22, 32"를 넣는다고 가정

### 1. 체이닝

- 같은 해시값에 대해 **연결 리스트**로 데이터 연결

  ```plaintext
  12 → 2번 칸
  22 → 2번 칸 (충돌 → 리스트로 연결)
  32 → 2번 칸 (충돌 → 리스트로 연결)
  ```

  ```plaintext
    Index | Data
  --------------------
  0     |
  1     |
  2     | 12 → 22 → 32
  3     |
  4     |
  ```

- **장점:** 해시 공간을 크게 늘리지 않아도 됨
- **단점:** 충돌이 많아지면 리스트 길이가 길어져 O(N)까지 악화 가능

### 2. Open Addressing

- 충돌 시 **다른 빈 슬롯**을 찾아 데이터를 저장
- 탐사 기법을 통해 새로운 위치를 찾는다.

#### 탐사 기법 종류

- **선형 탐사 (Linear Probing):** 한 칸씩 이동하며 탐색

  ```plaintext
  12 → 2번 칸
  22 → 2번 칸 충돌 → 3번 칸
  32 → 2번 칸 충돌 → 3번 칸도 충돌 → 4번 칸
  ```

  ```plaintext
  Index | Data
  --------------------
  0     |
  1     |
  2     | 12
  3     | 22
  4     | 32
  ```

- **제곱 탐사 (Quadratic Probing):** 이동 거리를 제곱수로 증가 (1, 4, 9, …)

  ````plaintext
  12 → 2번 칸
  22 → 2번 칸 충돌 → (2+1²=3)번 칸
  32 → 2번 칸 충돌 → (2+1²=3)번 칸 충돌
                 → (2+2²=6≡1 mod 5)번 칸
                 ```
  ````

  ```plaintext
  Index | Data
  --------------------
  0     |
  1     | 32
  2     | 12
  3     | 22
  4     |
  ```

## SHA-256 (Secure Hash Algorithm 256-bit)

- **암호학적 해시 함수** 중 하나 (SHA-2 계열)
- 입력 데이터(길이 무관)를 받아 **256비트(32바이트) 고정 길이 해시값**으로 변환

### 특징

- **단방향성 (One-way):** 해시값으로 원래 데이터를 복원할 수 없음
- **충돌 내성 (Collision Resistance):** 서로 다른 두 입력이 같은 해시값을 만들 확률이 극도로 낮음
- **균등 분포성 (Uniform Distribution):** 입력이 조금만 달라도 결과값이 완전히 달라짐 (_눈사태 효과, Avalanche Effect_)

### 예시

```plaintext
Input : "Hello"
SHA-256 : 185f8db32271fe25f561a6fc938b2e264306ec304eda518007d1764826381969
```

### 활용

- 블록체인(Bitcoin) 블록 해싱
- 디지털 서명 및 인증
- 파일 무결성 검증
- 비밀번호 해싱 (_보통 Salt + KDF(PBKDF2, Bcrypt, Scrypt 등)와 함께 사용_)
