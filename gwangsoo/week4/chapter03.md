# 프로세스의 주소 공간

프로그램이 실행되면 운영체제는 **프로세스**를 생성하고, 해당 프로세스에 **주소 공간**을 할당한다.

이 주소 공간은 크게 **코드, 데이터, 스택** 영역으로 나뉜다.

## 1. 코드 영역

- 프로그램의 **기계어 명령**(소스 코드가 컴파일된 결과)이 저장되는 부분
- 같은 프로그램을 실행한 여러 프로세스가 있을 경우, **코드 내용은 동일**하므로 **읽기 전용**으로 설정하고 **여러 프로세스가 공유** 가능
- 불필요한 중복 메모리 사용을 줄여 **효율적인 실행** 보장

## 2. 데이터 영역

- **전역 변수**, **static 변수**, 프로그램 시작 시 할당되는 **초기화된 데이터** 저장
- 프로그램 전체에서 **공통적으로 접근**해야 하는 값이므로 스택처럼 변동하지 않고 **고정된 주소 공간**을 가짐
- 스택과 분리해 둠으로써 **전역 변수와 지역 변수 간 충돌 방지**

## 3. 스택 영역

- **함수 호출 시 생성**되는 지역 변수, 매개변수, 리턴 주소 등이 저장
- 함수 호출과 종료가 반복되면서 **메모리 할당/해제가 빈번**  
  → **후입선출(LIFO) 구조**인 스택이 최적
- 각 함수 실행 컨텍스트를 독립적으로 관리할 수 있고  
  재귀 호출 같은 **복잡한 실행 흐름도 안정적으로 지원**

## 왜 이렇게 구역을 나누었는가?

1. **메모리 절약**

   - 동일 프로그램의 코드는 **하나만 메모리에 올려 공유** → 중복 방지

2. **안정적 실행 관리**

   - 스택은 **함수 실행 단위**, 데이터는 **전역 상태**를 관리 → 충돌 방지

3. **보안 및 접근 제어**

   - 코드 영역을 **읽기 전용**으로 두어 잘못된 쓰기 방지 및 보안 강화

4. **성능 최적화**
   - 영역 특성(읽기 전용 / 동적 변동 / 공통 데이터)에 맞게 배치
   - 캐시 효율 ↑, 실행 속도 ↑
