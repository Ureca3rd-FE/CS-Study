# 인덱스(Index)

인덱스는 **RDBMS에서 조회 성능을 향상시키기 위한 자료구조**로 특정 컬럼 값을 기반으로 테이블의 레코드를 빠르게 찾을 수 있도록 도와준다.  
인덱스가 없으면 조건 검색 시 테이블 전체를 스캔해야 하므로 성능 저하가 발생한다.

## 인덱스를 사용하면 좋은 경우

- **WHERE 절에서 자주 사용되는 컬럼**
- **외래키 컬럼**
- **JOIN 조건으로 사용하는 컬럼**

## 인덱스 사용을 피해야 하는 경우

- **카디널리티가 낮은(중복도가 높은) 컬럼**
  - 예: 성별, Boolean, 상태값 등
- **INSERT, UPDATE, DELETE가 빈번한 컬럼**
  - 인덱스도 함께 갱신해야 해 쓰기 성능이 떨어짐

## 인덱스의 단점

- **추가적인 저장 공간 필요**
- **쓰기 작업(INSERT/UPDATE/DELETE) 성능 저하**
- **불필요한 인덱스는 오히려 최적화 비용을 증가시킴**

## DML 시 인덱스 동작 요약

### INSERT

- 블록에 공간이 없으면 **Index Split** 발생
- Key 재배치, Redo 증가
- Split 동안 해당 블록의 **DML이 블로킹**됨

### DELETE

- 테이블: 실제 데이터 삭제 → 공간 재사용 가능
- 인덱스: 실제 삭제 안 하고 **'삭제 표시'만 함**
- 인덱스 조각화, 데이터 수 불일치 가능

### UPDATE

- 인덱스는 UPDATE 없음
- **DELETE + INSERT 두 번 작업** 수행
- 쓰기 비용 증가, 성능 저하
