# 🖲️운영체제 4주차

## Chap01. 운영체제란?

### #0. 운영체제의 개념

#### 1. 운영체제 (OS - Operating System)

- 개념
  - 컴퓨터의 전원을 켜면 가장 먼저 만나게 되는 소프트웨어
  - 컴퓨터 하드웨어와 사용자(혹은 응용 프로그램) 사이에서 중재자 역할을 하는 시스템 소프트웨어 (하드웨어 <-> 사용자/응용 프로그램)
  - 하드웨어 자원(CPU, 메모리, 저장장치, 입출력장치 등)을 효율적으로 할당/관리
  - 사용자에게 편리한 인터페이스 제공
  - 응용 프로그램들을 실행/관리

#### 2. 용어

- 인터페이스
  - 운영체제와 사용자/하드웨어/응용 프로그램이 상호작용하는 접점
  - 사용자가 자원을 이용할 수 있도록 제공하는 부분
  - 커널을 조작하고, 커널 조작의 결과를 전송/수신하는 곳
- 커널
  - 운영체제의 핵심기능을 모아놓은 곳.
  - 하드웨어 자원과 소프트웨어의 요청을 중재/관리.

---

### #1. 운영체제의 역할

#### 1. 프로세스 관리

- 프로세스의 개념 : 실행 중인 프로그램의 인스턴스(실체)

  - 프로그램의 개념
    - 실행되지 않은 텍스트 형태
    - 정적인 상태의 명령어 집합
    - 저장장치에 저장된 실행가능한 코드파일

- 프로세스 관리의 예시

  1. 프로세스 관리

     - 프로세스 생성 및 종료

       - 생성 : 프로그램 실행 요청 시 프로세스 생성
       - 종료 : 실행완료 OR 명령에 따라 프로세스 종료

     - 프로세스 자원 할당 및 보호
       - 각 프로세스에 필요한 메모리, 파일, 입출력 자원을 배분
       - 서로의 자원 침범/충돌을 방지하여 안정성/보안성 확보
     - 프로세스 상태 관리 : 프로세스의 상태를 지속적으로 관리

       - 프로세스 상태 종류
         - 활성화 상태
           1. 생성 (Create) : 프로세스가 메모리에 올라와 실행 준비 완료한 상태 (PCB 생성됨)
           2. 준비 (Ready) : 프로세스가 CPU를 얻을 때까지 기다리는 상태
           3. 실행 (Running) : CPU를 얻어 실제 작업을 수행하는 상태
           4. 대기 (Waitting/Blocked) : 이벤트 대기 중
         - 비활성화 상태
           1. 보류 (Suspended) : 메모리 부족 등의 이유로 프로세스가 디스크로 이동된 상태
           2. 종료 (Terminated) : 주어진 시간동안 작업을 마치고 진입한 상태 (PCB 사라짐)
       - 프로세스 제어 블록 - PCB (Process Control Block)
         - 의미 : 프로세스 처리하는 데 필요한 정보들이 담겨 있는 데이터 구조체

  2. CPU 스케줄링

  - 개념

    - 프로세스들에 CPU 할당 기회를 결정/일정관리
    - 프로세스 상황을 고려하여 CPU와 시스템자원을 공정하게 배정

  - 스케줄링 단계
    - 상위단계 스케줄링
      - 실행할 프로세스 총 개수 정의 (전체 프로세스 수 결정)
      - 작업 승인 여부 결정
      - 디스크(대기) <-> 메모리(준비) 간 작업 이동 관리
    - 중위단계 스케줄링
      - 하위단계 스케줄링 부담 완충
      - 활성화된 프로세스 조절 (스왑아웃/스왑인 결정)
        - 스왑아웃 : 메모리의 프로세스를 임시로 디스크로 내림
        - 스왑인 : 스왑아웃의 반대
    - 하위단계 스케줄링
      - 메모리의 준비상태 프로세스들 중 어떤 것을 CPU에 할당할지 결정
      - 속도, 실행빈도가 높음.
      - 선점/비선점 등의 스케줄링 알고리즘이 적용됨.

  3. 문맥교환

  - 개념
    - 현재 프로세스에서 다른 프로세스로 교환하는 작업
    - 이유 : 여러 프로세스가 CPU를 사용함. + 1개의 CPU는 1개의 프로세스만 작업함.

  4. 프로세스 동기화 및 통신 (IPC)

  - 프로세스 동기화

    - 개념
      - 목적 : 여러 프로세스가 동시에 실행되면서 공유 자원에 접근할 때 데이터 불일치, 경쟁조건이 발생하지 않도록 하기위함
      - 실행순서와 접근제어를 조정하는 절차
    - 주요 동기화 기법

      1. 뮤텍스 : 상호배제 기법. 단일 자원을 한번에 하나의 프로세스/스레드만 사용할 수 있도록 락을 검.
      2. 세마포어 : 공유자원의 최대 동시 접근 개수를 제한
      3. 모니터 : 언어나 라이브러리 차원의 동기화 구조체

  - 프로세스 통신 (IPC - Inter Process communication)
    - 개념 : 프로세스 간에 데이터를 주고받거나 신호를 교환하는 방법
    - 주요 IPC 메커니즘
      1. 시그널 : 운영체제가 프로세스를 관리하기 위해 정의하는 이벤트 알림 신호
      2. 파이프 : 데이터 스트림을 통한 통신
      3. 메시지 큐 : 운영체제가 관리하는 메시지 단위 송수신
      4. 공유 메모리 : 두 프로세스가 같은 영역에 직접 접근
      5. 소켓 : 네트워크를 통한 통신

#### 2. 저장장치 관리

- 저장장치의 종류

  - 주기억장치 = 1차 저장장치
    - 개념 : 컴퓨터 동작 중 프로그램과 데이터를 임시로 저장하는 공간
    - 특징
      - 메모리라고 부름.
      - CPU가 직접 빠르게 접근 가능
      - 휘발성 : 전원을 끄면 소실됨.
      - RAM과 캐시를 포함
  - 보조기억장치 = 2차 저장장치
    - 개념 : 데이터를 영구적으로 저장할 수 있는 장치
    - 특징
      - CPU가 직접 접근하지 못함.
      - 대용량임.
      - HDD(하드디스크), SSD, USB, 외부 디스크 등을 포함

- 운영체제의 저장장치 관리
  - 1차 저장장치 관리
    - 의미 : 운영체제가 프로세스에 필요한 임시공간을 효율적으로 쓸 수 있도록 관리함.
    - 주요 역할
      1. 할당과 해제 : 프로세스가 필요로 할때 메모리 공간을 할당하고 종료 시 회수함.
      2. 경계보호 : 프로세스 별로 할당된 메모리 영역이 침범되지 않도록 보호
      3. 가상 메모리 : 실제 메모리가 부족할 경우 디스크 일부를 활용하여 큰 프로그램을 실행할 수 있도록함.
  - 2차 저장장치 관리
    - 의미 : 데이터의 영구적 저장, 파일 단위 관리, 보호 등을 처리함.
    - 주요 역할
      1. 파일 시스템 제공 : 파일, 폴더를 생성/삭제/접근권한 등 파일 전체 구조를 관리
      2. 공간 할당 및 회수 : 파일이 저장될 공간을 결정 및 삭제될 파일의 공간 회수
      3. 보안 및 신뢰성 : 접근권한/백업/복구 등 데이터 보호와 장기 신뢰성 유지기능 제공

#### 3. 네트워킹

- 용어

  - 네트워킹 : 여러 장치가 연결되어 데이터를 주고 받도록 해주는 시스템이나 기술
  - 프로토콜 : 컴퓨터 네트워크에서 서로 다른 기기들이 원활하게 통신할 수 있도록 미리 정해 놓은 통신규약(규칙과 절차)
  - TCP 프로토콜
    - 전송계층(OSI 4계층)에서 동작하는 프로토콜
    - 데이터가 목적지에 신뢰성 있게 도달하도록 보장
    - 송수신자 간에 논리적 연결을 설정하여 데이터 순서/무결성 확인 -> 누락/손상 시 재전송
  - IP 프로토콜
    - 인터넷계층(OSI 3계층)에서 동작하는 프로토콜
    - 각 장치마다 부여된 IP주소를 바탕을 패킷을 최종 목적지까지 라우팅함.
    - 목적지까지 전달하는 데에 집중. 도달여부/순서/신뢰성은 보장X

- 운영체제의 네트워킹 역할
  - 개념 : 다양한 네트워크 자원과 서비스를 효율적으로 관리하고 안전하게 통신할 수 있도록 환경을 제공함.
  - 주요역할
    1. 네트워크 프로토콜 지원 : 다양한 네트워크 프로토콜을 지원하여 응용 프로그램이 네트워크를 통해 통신할 수 있도록함.
    2. 데이터 송수신 관리 : 컴퓨터가 네트워크(LAN, WAN, 인터넷)에 연결되어 데이터를 주고 받을 수 있도록 네트워크 인터페이스와 드라이버를 관리
       - 네트워크 인터페이스
         - 키워드의 의미 : 컴퓨터가 네트워크에 연결할 때 사용하는 물리적/논리적 접속 지점
         - 관리의 의미 : 네트워크 인터페이스 활성화 관리, IP주소, MAC주소 같은 네트워크 설정을 할당하여 네트워크 연결 관리
       - 네트워크 드라이버
         - 키워드의 의미 : 운영체제와 네트워크 하드웨어 간의 통신을 중재하는 소프트웨어
         - 관리의 의미 : 드라이버를 통해 하드웨어 장치를 제어하고 데이터를 전기신호로 바꾸거나 받아서 처리
    3. 보안 관리 : 사용자 인증, 방화벽 설정, 데이터 암호화 등 네트워크 환경을 안전하게 보호

#### 4. 사용자 관리

- 개념 : 운영체제가 여러 사용자를 안전하고 효율적으로 관리하고 각 사용자에게 적절한 컴퓨터 사용 환경과 부안 수준을 제공
- 주요역할
  1. 여러 사용자의 계정을 생성/관리 : 각각의 사용자가 독립적인 환경에서 컴퓨터를 사용할 수 있도록 지원
  2. 개인 프라이버시 보장 : 사용자별로 파일, 폴더 ,시스템 자원에 대한 접근 권한을 설정
  3. CLI(명령어 인터페이스), GUI(그래픽 사용자 인터페이스)를 통해 사용자가 운영체제와 상호작용할 수 있는 환경 제공

#### 5. 디바이스 드라이버

- 개념

  - 운영체제와 하드웨어 장치를 연결해주는 소프트웨어
  - 운영체제가 하드웨어 장치를 인식하고 제어할 수 있도록 해주는 중개자 역할

- 특징

  1. 추상화 : 하드웨어의 복잡성과 차이를 숨김. 운영체제/사용자에게 일관된 방식의 접근을 제공
  2. 확장성 : 새로운 하드웨어 추가 시 해당 장치에 맞는 드라이버 설치하면 운영체제 변경 없이 사용 가능
  3. 전용성 : 하드웨어 마다 고유한 드라이버가 필요함. 각 드라이버는 해당 장치 특성에 맞게 작성됨.
  4. 커널의 일부 : 커널 내부에서 실행됨.

- 주요역할
  1. 하드웨어 제어 : 드라이버가 하드웨어 장치를 초기화/동작명령 내림.
  2. 데이터 전송 관리 : 메모리와 하드웨어 장치 간의 데이터 이동을 담당.
  3. 인터페이스 제공 : 사용자/응용프로그램이 표준 API/시스템 콜을 통해 하드웨어 접근하도록 지원
  4. 오류 및 인터럽트 처리 : 하드웨어 동작 중 발생할 수 있는 오류를 감지하여 운영체제에 알림. 장치에서 발생하는 인터럽트에 신속히 대응
  5. 운영체제 확장성 확보 : 드라이버만 교체하는 방식으로 다양한 하드웨어 지원 -> 시스템 유연성/확장성 높아짐.
