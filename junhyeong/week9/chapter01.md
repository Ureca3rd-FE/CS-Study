# 9주차 🛜네트워크

## Chap01. OSI 7계층

### #1. OSI 7계층의 목적

1. 네트워크 통신을 단계별로 표준화 -> 서로 다른 시스템/장비/프로토콜 간의 상호운용성을 보장
2. 복잡한 통신 과정을 계층으로 분할
   - 설계/개발/유지보수 용이성 증가
   - 각 계층이 독립적으로 동작 -> 모듈화/교체 용이
3. 특정 계층의 문제를 쉽게 찾을 수 있음 -> 트러블 슈팅 효율 상승
4. 국제 표준(ISO)으로 제정 -> 전 세계 공통 규칙 제공

---

### #2. OSI 7계층의 기능 및 프로토콜

#### 1계층 - 물리 계층

- **역할**
  - 비트 신호를 전기/광/무선 형태로 전달
  - 기계적, 전기적, 기능적, 절차적 특성이 있는 구조화되지 않은 비트 스트림을 물리적 매체를 통해 전송
- **기능**: 케이블 형태, 전송 방식, 신호 형식 결정
- **PDU**(프로토콜 데이터 단위): 비트 (bit)
- **프로토콜**
  - RS-232
  - Ethernet 물리 신호 규격

#### 2계층 - 데이터링크 계층

- **역할**
  - 물리적 연결을 통해 신뢰성 있는 데이터를 전송
  - LLC 서브레이어: 오류검출, 흐름제어, 상위 계층과의 인터페이스 역할
  - MAC 서브레이어: 충돌제어, MAC주소 기반 프레임 전송
- **기능**
  - 매체 접근 방식 정의 (CSMA/CD, CSMA/CA)
  - 프레임 구성 및 전송
  - 오류 검출 (FCS), 재전송 요청
  - 흐름 제어
  - 송수신 동기화 유지
- **PDU**: 프레임 (frame)
- **프로토콜**
  - Ethernet (IEEE 802.3)
  - PPP
  - HDLC
  - MAC 주소 관련 프로토콜

#### 3계층 - 네트워크 계층

- **역할**
  - IP 주소 기반 경로 설정(라우팅) -> 목적지까지 가는 최적 경로 선택
  - 서로 다른 네트워크 간 데이터 전달
  - 트래픽 제어 및 혼잡 제어 수행
- **기능**
  - 논리 주소 부여 및 관리
  - 라우팅 프로토콜을 통한 경로 선택
  - 네트워크 간 연결
  - 패킷을 분할 및 재조립
- **PDU**: 패킷 (packet)
- **프로토콜**
  - IP, ICMP, ARP, RARP
  - OSPF, RIP, BGP(라우팅 프로토콜)

#### 4계층 - 전송 계층

- **역할**
  - 종단 간(E2E) 신뢰성있는 데이터 전송 제공
  - 포트번호를 사용하여 프로세스 간 통신 담당
  - TCP/UDP를 이용하여 오류 제어, 흐름 제어, 순서 제어 수행
  - 데이터가 손실/중복 없이 순서대로 도착하도록 관리
  - 상위 계층에 명확하고 안정적인 전송 서비스 제공
- **기능**
  - 세그먼트 생성 및 분할/재조립
  - 오류 제어: 재전송, 체크섬 등
  - 흐름 제어: 수신 능력에 맞게 조절
  - 혼잡 제어: 네트워크 혼잡 시 전송량 조절
  - 포트 번호 관리
  - 연결 제어: TCP(3-way handshake, 4-way termination), UDP(비연결형 전송)
- **PDU**: 세그먼트 (segment)
- **프로토콜**: TCP, UDP

#### 5계층 - 세션 계층

- **역할**
  - 프로세스 간 세션(대화)을 설정/유지/종료
  - 양쪽 응용 사이의 통신 연결을 관리하여 안정적인 데이터 교환이 가능하게 함
  - 연결이 끊어지지 않도록 세션 유지 기능 제공
- **기능**
  - 세션 설정/유지/해제: 로그인 유지, 화상통화 연결 유지 등
  - 동기 제어: 데이터 전송 중 오류 발생 시 복구를 위한 동기점(Checkpoint) 삽입 -> 중단 시 마지막 동기점 이후 부분만 재전송
  - 대화 제어: 통신 방식 제어 (반이중/전이중)
- **PDU**: 메시지
- **프로토콜**: NetBIOS, RPC

#### 6계층 - 표현 계층

- **역할**
  - 서로 다른 시스템 간의 데이터 표현 방식 차이를 해결 (문자 인코딩, 파일 형식, 압축 방식 등)
  - 데이터에 암호화/복호화, 압축/해제, 부호변환을 수행 (데이터 형식 변환)
  - 응용 프로그램이 데이터 표현 문제를 신경쓰지 않도록 독립성 제공 -> 응용 프로세스는 "내용"만 처리. 형식은 표현 계층이 담당
- **기능**
  - 데이터 형식 변환: ASCII <-> Unicode, JPEG <-> Bitmap 등
  - 데이터 재구성: 응용 계층이 처리할 수 있도록 적절한 형태로 변환
  - 암호화/복호화: SSL/TLS 등
  - 구문 검사: 데이터 구조/형식이 올바른지 확인
- **PDU**: 메시지
- **프로토콜**
  - SSL/TLS(암호화)
  - JPEG, MPEG, ASCII, EBCDIC 등 인코딩 포맷

#### 7계층 - 응용 계층

- **역할**
  - 사용자, 애플리케이션에 직접 네트워크 서비스 제공
  - 실제 서비스 기능을 담당
  - 응용 프로그램이 네트워크 기능을 쉽게 사용할 수 있도록 인터페이스 역할 수행
  - 사용자 요청을 네트워크가 이해할 수 있는 형식으로 전달 및 받은 데이터를 사용자에게 제공
- **기능**
  - 응용 서비스 제공 (파일 서비스, 웹서비스, 이메일 등)
  - 자원 공유: 파일 공유, 프린터 공유 등 네트워크 자원 접근 제공
  - 네트워크 가상 터미널 제공: 원격 접속 기능 (Telnet, SSH)
  - 데이터 처리 및 제공: 애플리케이션이 사용할 수 있게 데이터 전달
- **PDU**: 메시지
- **프로토콜**
  - HTTP/HTTPS
  - FTP, SMTP, POP3, IMAP
  - DNS
  - Telnet, SSH

---

### #3. OSI 계층 간 데이터 흐름

#### OSI 7계층 상호간의 데이터 전달 원리

- 캡슐화
  - 최상위 계층에서 발생한 데이터를 하위 계층으로 차례로 전달
  - 데이터를 각 계층에서 전달받은 헤더정보를 추가하여 전달
- 역캡슐화
  - 최하위 계층에서 데이터를 받음
  - 각 계층의 헤더에 해당되는 부분을 벗긴 뒤 최상위 계층으로 전달

#### 송신 측 (전송 과정)

- 7계층: 응용 데이터 생성
- 6계층: 인코딩·암호화 적용
- 5계층: 세션 설정 정보 포함
- 4계층: TCP/UDP 헤더 추가 (포트 번호 포함)
- 3계층: IP 헤더 추가 (출발지·목적지 IP)
- 2계층: MAC 헤더 추가 (출발지·목적지 MAC) → 프레임 생성
- 1계층: 전기/광신호로 변환되어 전송

#### 수신 측 (받는 과정)

- 1계층: 신호를 비트로 복원
- 2계층: MAC 헤더 제거 → 프레임 해석
- 3계층: IP 헤더 제거 → 패킷 해석
- 4계층: TCP/UDP 헤더 제거 → 세그먼트 해석
- 5~7계층: 세션→표현→응용 순으로 데이터 제공
