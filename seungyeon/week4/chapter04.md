# 인터럽트
현재 실행 중인 작업을 즉시 중단하고 발생한 상황에 대한 우선 처리가 필요함을 CPU에게 알리는 것.

지금 수행 중인 일보다 더 중요한 일(ex. 입출력, 우선 순위 연산 등)로 인터럽트가 들어오면 발생하면 하던 작업 중단->들어온 중요한 일 처리->하던 작업 이어함.

외부/내부 인터럽트는 `CPU의 하드웨어 신호에 의해 발생`<br>
소프트웨어 인터럽트는 `명령어의 수행에 의해 발생`

### 외부 인터럽트
입출력 장치, 타이밍 장치, 전원 등 외부적인 요인으로 발생

`전원 이상, 기계 착오, 외부 신호, 입출력`

### 내부 인터럽트
잘못된 명령이나 데이터를 사용할 때 발생

`0으로 나눔, 오버플로우, 명령어 잘못 사용(Exception)`

### 소프트웨어 인터럽트
프로그램 처리 중 명령의 요청에 의해 발생한 것(SVC 인터럽트)

>프로그램 실행시킬 때 발생<br>
>소프트웨어 이용 중에 다른 프로세스를 실행시키면 시분할 처리를 위해 자원 할당 동작 수행

## 인터럽트 처리 과정
1. 주 프로그램 실행
2. 인터럽트 발생
3. 수행 중인 프로그램을 멈추고 `상태 레지스터와 PC 등을 스택에 저장` (인터럽트 서비스 루틴 종료 후 돌아오기 위해)
4. 인터럽트 서비스 루틴으로 이동(인터럽트 벡터로 점프>처리>처리 완료)
5. 복귀 주소 로드
6. 마지막에 실행되던 주소로 점프
7. 주 프로그램 실행

인터럽트 기능이 없다면 컨트롤러는 어떤 일을 처리할 시기를 알기 위해 지속적으로 체크를 해야 함(`Polling`)

폴링을 하면 하던 일을 제대로 하지 못하니 많은 기능을 제대로 수행할 수 없게 된다.

## 컨트롤러가 입력을 받는 방법
위에서 말한 폴링과 인터럽트 방식이 있다.

### 1. 폴링 방식
입력 핀의 값을 계속 읽어 변화를 알아내는 방식.

인터럽트 요청 플래그를 차례로 비교하여 우선순위가 가장 높은 인터럽트 자원을 찾아 이에 맞는 인터럽트 서비스 루틴을 수행.
### 2. 인터럽트 방식
MCU 자체가 하드웨어적으로 변화를 체크하여 변화 시에만 일정한 동작을 하는 방식.
- Daisy Chain
- 병렬 우선순위 부여

인터럽트 방식은 하드웨어로 지원을 받아야 하는 제약이 있지만, 폴링에 비해 신속하게 대응할 수 있다. 실시간 대응이 필요할 경우 필수적인 기능이다.

발생시기를 예측하기 힘든 경우엔 인터럽트 방식이 적합하다.