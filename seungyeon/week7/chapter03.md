# SQL Injection
해커에 의해 `조작된 SQL 쿼리문이 데이터베이스에 그대로 전달`되어 비정상적 명령을 실행시키는 공격 기법

## 공격 방법
### 1) 인증 우회
input 창에 비밀번호를 입력함과 동시에 다른 쿼리문을 함께 입력한다.
```sql
1234; delete * user from id="1";
```
보안이 완벽하지 않은 경우 이처럼 비밀번호와 아이디를 통과하고 뒤에 작성한 delete 문이 DB에 영향을 줄 수도 있다.<br>
말고도 where 절에 or 문을 추가해 `'1'='1'` 같은 true문을 작성해 무조건 적용하도록 한 뒤 DB를 마음대로 조작 가능.

### 2) 데이터 노출
시스템에서 발생하는 에러 메시지를 이용해 공격. 악의적인 구문을 삽입해 에러를 유발.
```
ex) GET 방식으로 동작하는 URL 쿼리 스트링을 추가해 에러를 발생
이에 해당하는 오류가 발생하면 이를 통해 해당 웹앱의 DB 구조를 유추할 수 있고 해킹에 활용.
```

## 방어 방법
### 1) input 값을 받을 때 특수문자 여부 검사하기
> 로그인 전에 검증 로직을 추가해 미리 설정한 문자들이 들어왔을 때 요청을 막아낸다.
### 2) SQL 서버 오류 시 해당하는 에러 메시지 감추기
> view를 활용하여 원본 데이터베이스 테이블 접근 권한을 높인다. 일반 사용자는 view로만 접근하여 에러를 볼 수 없도록 만든다.
### 3) prepareStatement 사용
> prepareStatement를 사용하면 특수문자를 자동으로 escaping 해준다. 이를 활용해 서버 측에서 필터링 과정을 통해 공격을 방어한다.